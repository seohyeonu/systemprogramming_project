# 학생 정보 관리 시스템

리눅스 환경에서 동작하는 학생 정보 및 성적 관리 시스템입니다.

## 주요 기능

### I. 학생 정보 관리
- **최초 실행 시**: Student 폴더 생성, index.dat 파일 생성
- **index.dat 파일**: 번호, 학번, 최종 수정 시간으로 구성
- **관리자만 접근 가능**
- **학생 정보 입력**: 학번, 이름, 생년월일, 학과, 학적 상태 저장
- **학생 정보 수정**: 학번.dat 파일 갱신, index에 시간 갱신
- **학생 정보 삭제**: index.dat에서 번호는 유지, 우선 채워 넣음

### II. 성적 관리
- **최초 실행 시**: 학과 설정, 담당 교과목 지정, Grade 폴더 생성
- **교과목 관리**: 교과목 추가/제거, 성적 입력/수정
- **자동 수강생 지정**: Student 폴더의 학생 정보 중 학과가 겹치는 경우 모두 수강생으로 지정
- **Timestamp 기능**: 성적 입력/수정 시 시간 기록
- **권한 관리**: 교수/관리자만 성적 관리 가능

### III. 성적 열람
- **학생 전용**: 자신의 개인정보와 성적만 출력
- **권한 제한**: 학생은 아무 권한도 보유하지 않음

## 권한 체계

- **관리자 (UID 0)**: 모든 기능 접근 가능
- **교수 (UID 1000-2000)**: 성적 관리 기능 접근 가능
- **학생 (UID > 2000)**: 성적 열람만 가능

## 파일 구조

```
.
├── main.c                    # 메인 프로그램
├── student_management.c      # 학생 정보 관리
├── grade_management.c        # 성적 관리
├── grade_view.c             # 성적 열람
├── system_utils.c           # 시스템 유틸리티
├── student_management.h     # 헤더 파일
├── Makefile                 # 컴파일 설정
└── README.md               # 이 파일

Student/                     # 학생 정보 폴더
├── index.dat               # 학생 인덱스 파일
└── [학번].dat              # 개별 학생 정보 파일

Grade/                      # 성적 정보 폴더
├── [교과목명].dat          # 교과목별 성적 파일
└── student_[학번]_grade.txt # 학생별 성적표
```

## 컴파일 및 설치

### 1. 컴파일
```bash
make
```

### 2. 시스템 설치 (관리자 권한 필요)
```bash
sudo make install
```

### 3. 프로그램 실행
```bash
# 관리자 권한으로 실행
sudo ./student_management

# 교수 권한으로 실행 (UID 1000)
sudo -u #1000 ./student_management

# 학생 권한으로 실행 (UID 20213348)
sudo -u #20213348 ./student_management
```

## 사용법

### 관리자 모드
1. **학생 정보 관리**
   - 학생 정보 입력/수정/삭제
   - 학생 목록 조회

2. **성적 관리**
   - 교과목 추가/제거
   - 성적 입력/수정

3. **시스템 관리**
   - 시스템 초기화
   - 시스템 상태 확인

### 교수 모드
1. **성적 관리**
   - 교과목 관리
   - 성적 입력/수정

### 학생 모드
1. **성적 열람**
   - 자신의 성적만 조회

## 파일 형식

### index.dat
```
번호 학번 최종수정시간
1 20213348 1703123456
2 20213349 1703123457
```

### [학번].dat
```
이름 생년월일 학과 학적상태
홍길동 2000-01-01 컴퓨터공학과 재학
```

### [교과목명].dat
```
# 교과목명 교과목 성적 파일
# 학과: 컴퓨터공학과
# 생성일: Wed Dec 20 10:30:00 2023
학번 점수 타임스탬프
20213348 95 1703123456
20213349 87 1703123457
```

## 주의사항

1. **권한 관리**: 모든 파일은 root 소유이며, 적절한 권한이 설정됩니다.
2. **UID 기반 권한**: 사용자 역할은 UID를 기반으로 구분됩니다.
3. **데이터 백업**: 시스템 초기화 시 모든 데이터가 삭제되므로 주의하세요.
4. **파일 권한**: 생성된 파일들은 적절한 권한(644)으로 설정됩니다.

## 개발 정보

- **언어**: C (C99 표준)
- **플랫폼**: Linux
- **컴파일러**: GCC
- **라이브러리**: 표준 C 라이브러리, POSIX 라이브러리

## 라이선스

이 프로젝트는 교육 목적으로 제작되었습니다. 